_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{E1HW:function(n,e,t){"use strict";t.d(e,"a",(function(){return r})),t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return i}));var r="\n  query GetPost($id: ID!) {\n    getPost(id: $id) {\n      id\n      title\n      videoUrl\n      formUrl\n      content\n      username\n      createdAt\n      updatedAt\n    }\n  }\n",o="\n  query ListPosts(\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listPosts(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        title\n        videoUrl\n        formUrl\n        content\n        username\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n",i="\n  query PostsByUsername(\n    $username: String\n    $sortDirection: ModelSortDirection\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    postsByUsername(\n      username: $username\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        title\n        videoUrl\n        formUrl\n        content\n        username\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"},YFqc:function(n,e,t){n.exports=t("cTJO")},cTJO:function(n,e,t){"use strict";var r=t("J4zp"),o=t("284h");e.__esModule=!0,e.default=void 0;var i=o(t("q1tI")),a=t("elyg"),c=t("nOHt"),s=t("vNVm"),u={};function l(n,e,t,r){if(n&&(0,a.isLocalURL)(e)){n.prefetch(e,t,r).catch((function(n){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:n&&n.locale;u[e+"%"+t+(o?"%"+o:"")]=!0}}var d=function(n){var e=!1!==n.prefetch,t=(0,c.useRouter)(),o=t&&t.pathname||"/",d=i.default.useMemo((function(){var e=(0,a.resolveHref)(o,n.href,!0),t=r(e,2),i=t[0],c=t[1];return{href:i,as:n.as?(0,a.resolveHref)(o,n.as):c||i}}),[o,n.href,n.as]),f=d.href,p=d.as,m=n.children,v=n.replace,h=n.shallow,b=n.scroll,x=n.locale;"string"===typeof m&&(m=i.default.createElement("a",null,m));var y=i.Children.only(m),$=y&&"object"===typeof y&&y.ref,P=(0,s.useIntersection)({rootMargin:"200px"}),I=r(P,2),j=I[0],g=I[1],O=i.default.useCallback((function(n){j(n),$&&("function"===typeof $?$(n):"object"===typeof $&&($.current=n))}),[$,j]);(0,i.useEffect)((function(){var n=g&&e&&(0,a.isLocalURL)(f),r="undefined"!==typeof x?x:t&&t.locale,o=u[f+"%"+p+(r?"%"+r:"")];n&&!o&&l(t,f,p,{locale:r})}),[p,f,g,x,e,t]);var U={ref:O,onClick:function(n){y.props&&"function"===typeof y.props.onClick&&y.props.onClick(n),n.defaultPrevented||function(n,e,t,r,o,i,c,s){("A"!==n.currentTarget.nodeName||!function(n){var e=n.currentTarget.target;return e&&"_self"!==e||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.nativeEvent&&2===n.nativeEvent.which}(n)&&(0,a.isLocalURL)(t))&&(n.preventDefault(),null==c&&(c=r.indexOf("#")<0),e[o?"replace":"push"](t,r,{shallow:i,locale:s,scroll:c}))}(n,t,f,p,v,h,b,x)},onMouseEnter:function(n){(0,a.isLocalURL)(f)&&(y.props&&"function"===typeof y.props.onMouseEnter&&y.props.onMouseEnter(n),l(t,f,p,{priority:!0}))}};if(n.passHref||"a"===y.type&&!("href"in y.props)){var E="undefined"!==typeof x?x:t&&t.locale,w=t&&t.isLocaleDomain&&(0,a.getDomainLocale)(p,E,t&&t.locales,t&&t.domainLocales);U.href=w||(0,a.addBasePath)((0,a.addLocale)(p,E,t&&t.defaultLocale))}return i.default.cloneElement(y,U)};e.default=d},cze1:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return m}));var r=t("o0o1"),o=t.n(r),i=t("nKUr"),a=t("HaE+"),c=t("q1tI"),s=t("YFqc"),u=t.n(s),l=t("v4IS"),d=t("oDCQ"),f=t("E1HW"),p=t("sIIE");function m(){var n=Object(c.useState)([]),e=n[0],t=n[1];function r(){return s.apply(this,arguments)}function s(){return(s=Object(a.a)(o.a.mark((function n(){var e,r,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.currentAuthenticatedUser();case 2:return e=n.sent,r=e.username,n.next=6,d.a.graphql({query:f.c,variables:{username:r}});case 6:i=n.sent,t(i.data.postsByUsername.items);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(){return(m=Object(a.a)(o.a.mark((function n(e){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.graphql({query:p.b,variables:{input:{id:e}},authMode:"AMAZON_COGNITO_USER_POOLS"});case 2:r();case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(c.useEffect)((function(){r()}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{className:"text-3xl font-semibold tracking-wide mt-6 mb-2",children:"My Posts"}),e.map((function(n,e){return Object(i.jsxs)("div",{className:"border-b border-gray-300\tmt-8 pb-4",children:[Object(i.jsx)("h2",{className:"text-xl font-semibold",children:n.title}),Object(i.jsxs)("p",{className:"text-gray-500 mt-2 mb-2",children:["Author: ",n.username]}),Object(i.jsx)(u.a,{href:"/edit-post/".concat(n.id),children:Object(i.jsx)("a",{className:"text-sm mr-4 text-blue-500",children:"Edit Post"})}),Object(i.jsx)(u.a,{href:"/posts/".concat(n.id),children:Object(i.jsx)("a",{className:"text-sm mr-4 text-blue-500",children:"View Post"})}),Object(i.jsx)("button",{className:"text-sm mr-4 text-red-500",onClick:function(){return function(n){return m.apply(this,arguments)}(n.id)},children:"Delete Post"})]},e)}))]})}},sIIE:function(n,e,t){"use strict";t.d(e,"a",(function(){return r})),t.d(e,"c",(function(){return o})),t.d(e,"b",(function(){return i}));var r="\n  mutation CreatePost(\n    $input: CreatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    createPost(input: $input, condition: $condition) {\n      id\n      title\n      videoUrl\n      formUrl\n      content\n      username\n      createdAt\n      updatedAt\n    }\n  }\n",o="\n  mutation UpdatePost(\n    $input: UpdatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    updatePost(input: $input, condition: $condition) {\n      id\n      title\n      videoUrl\n      formUrl\n      content\n      username\n      createdAt\n      updatedAt\n    }\n  }\n",i="\n  mutation DeletePost(\n    $input: DeletePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    deletePost(input: $input, condition: $condition) {\n      id\n      title\n      videoUrl\n      formUrl\n      content\n      username\n      createdAt\n      updatedAt\n    }\n  }\n"},vNVm:function(n,e,t){"use strict";var r=t("J4zp");e.__esModule=!0,e.useIntersection=function(n){var e=n.rootMargin,t=n.disabled||!a,s=(0,o.useRef)(),u=(0,o.useState)(!1),l=r(u,2),d=l[0],f=l[1],p=(0,o.useCallback)((function(n){s.current&&(s.current(),s.current=void 0),t||d||n&&n.tagName&&(s.current=function(n,e,t){var r=function(n){var e=n.rootMargin||"",t=c.get(e);if(t)return t;var r=new Map,o=new IntersectionObserver((function(n){n.forEach((function(n){var e=r.get(n.target),t=n.isIntersecting||n.intersectionRatio>0;e&&t&&e(t)}))}),n);return c.set(e,t={id:e,observer:o,elements:r}),t}(t),o=r.id,i=r.observer,a=r.elements;return a.set(n,e),i.observe(n),function(){a.delete(n),i.unobserve(n),0===a.size&&(i.disconnect(),c.delete(o))}}(n,(function(n){return n&&f(n)}),{rootMargin:e}))}),[t,e,d]);return(0,o.useEffect)((function(){if(!a&&!d){var n=(0,i.requestIdleCallback)((function(){return f(!0)}));return function(){return(0,i.cancelIdleCallback)(n)}}}),[d]),[p,d]};var o=t("q1tI"),i=t("0G5g"),a="undefined"!==typeof IntersectionObserver;var c=new Map},zsD6:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-posts",function(){return t("cze1")}])}},[["zsD6",1,2,3,0,4,6,8,9]]]);